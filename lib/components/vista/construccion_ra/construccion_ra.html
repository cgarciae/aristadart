
<div class="large-6 columns">
    <fieldset>
        <label>Nombre Vista</label>
        {{cambios}}
        <input type="text"
               ng-model="vista.nombre"
               ng-change="cambios = true"
               ng-blur="saveVistaNombre()">
        <img alt="{{vista.descripcion}}" ng-src="{{vista.icon}}">
    </fieldset>
    <fieldset>
        <div ng-if="vista.objetoUnity == null || vista.objetoUnity.id == null">
            <h3>Objetos</h3>
            <div ng-repeat="obj in objetosUsuario"
                 ng-click="seleccionarObjeto (obj)">
                <label>{{obj.nombre}}</label>
                <label>{{obj.descripcion}}</label>
            </div>
        </div>
        <div ng-if="vista.objetoUnity != null && vista.objetoUnity.id != null">
            <legend>
                <span  class = "active" ng-if="vista.objetoUnity == null"></span>
                <span  class = "no-active" ng-if="vista.objetoUnity != null"></span>
                    Modelo
                <img class="pd" ng-if="vista.objetoUnity.updatePending" ng-src="https://cdn1.iconfinder.com/data/icons/outline-imperial-seo/128/SEO_C_100_09.12.14-3_Artboard_45-256.png">
                <span ng-if="vista.objetoUnity != null && vista.objetoUnity.id != null">version {{vista.objetoUnity.version}}</span>
            </legend>
            Nombre <input type="text"
                          ng-model="vista.objetoUnity.nombre"
                          ng-change="cambios = true"
                          ng-blur="saveNombreObjetoUnity ()">
            Id : {{vista.objetoUnity.id}}
            <ul class="no-bullet">
                <li class = "large-7 columns">
                    
                    <form enctype="multipart/form-data" method="POST">
                    
                        
                         Choose a file to upload: <input name="file" type="file"><br>
                        <button 
                            class="button tiny"
                            ng-click="uploadObjetoUnityUserFile ($event)">
                                Upload
                        </button>
                         
                        
                       
                        <a class="button tiny"
                            ng-if="vista.objetoUnity.userFile != null" 
                            ng-href = "{{vista.objetoUnity.userFile.href}}" 
                            target="_blank">
                                Download
                        </a>
                        
                        
                        <a ng-if="vista.objetoUnity.screenshot != null"
                            ng-href="{{'public/file/' + vista.objetoUnity.screensho.href}}"
                            target="_blank">
                
                            <img alt="screenshoot Model" 
                                ng-src="{{'public/file/' + vista.objetoUnity.screensho.href}}">
                        </a>
                        
                    </form>
                </li>
            </ul>

        </div>
        
        
    
    </fieldset>
</div>
<div class="row large-6 columns ">
    <fieldset>
        <legend>
            Target
            --<span ng-if="vista.objetoUnity != null">active {{vista.localTarget.active}}</span>
            --<span ng-if="vista.objetoUnity != null">pending {{vista.localTarget.updatePending}}</span>
            --<span ng-if="vista.objetoUnity != null">version {{vista.localTarget.version}}</span>
        </legend>
        <ul class="no-bullet">
            <li class = "large-7 columns">
                <form enctype="multipart/form-data" method="POST">
                     Choose a file to upload: <input name="file" type="file"><br>
                     
                     <button class="button tiny" ng-click="uploadLocalTargetImageFile ($event)">Upload</button>
                     
                    <a class="tiny"
                        ng-if="vista.localTarget != null && vista.localTarget.imageId != null && vista.localTarget.imageId != ''" 
                        ng-href = "{{'public/file/' + vista.localTarget.imageId}}" 
                        target="_blank">
                        
                        <img alt=""
                            ng-if="vista.localTarget.imageId != null"
                            ng-src="{{'public/file/' + vista.localTarget.imageId}}">
                    </a>
                    
                </form>
            </li>
        </ul>
    </fieldset>
</div>
<hr>
<div class="large-12 columns">
        <h2>{{vista.muebles.length}} Muebles</h2>
        <br>
        <a ng-click='NuevoMueble ()' class="add-I"></a>
        <ul class="no-bullet">
            <li ng-repeat="elemento in vista.muebles"> 
                <ul class="large-3 columns no-bullet">
                <fieldset>
                    
                     <a class="button right tiny" ng-click="EliminarElemento(elemento, vista.muebles)">x</a>
                    
                    <li><label>Nombre:</label> <input type="text" ng-model="elemento.nombre"></li>
                    <li><label>Titulo:</label> <input type="text" ng-model="elemento.titulo"></li>
                    <li>
                        
                        <form enctype="multipart/form-data" method="POST">
                             Choose a file to upload: <input name="file" type="file"><br>
                             
                             
                            <button class="button tiny" 
                                ng-click="uploadElementoConstruccion ($event, elemento)">
                                    Upload
                            </button>
                             
                            <a ng-if="elemento.imageId != null"
                                ng-href="{{'public/file/' + elemento.imageId}}"
                                target="_blank">
                                
                                <img alt=""
                                    ng-src="{{'public/file/' + elemento.imageId}}">
                            </a>
                        </form>
                    </li>
                    <li><label>Texto:</label> <textarea type="text" ng-model="elemento.texto"></textarea></li>
                </fieldset>
                </ul>
            </li>   
        </ul>
</div>
<hr>
<div class="large-12 columns">
        <h2>{{vista.cuartos.length}} Cuartos</h2>
        <a ng-click='NuevoCuarto()' class="add-I"></a>
        <ul class="no-bullet">
            <li ng-repeat="elemento in vista.cuartos"> 
                <ul class="large-3 columns no-bullet">
                <fieldset>
                    
                    <a class="button right tiny" ng-click="EliminarElemento(elemento, vista.cuartos)">x</a>
                    
                    <li><label>Nombre:</label> <input type="text" ng-model="elemento.nombre"></li>
                    <li><label>Titulo:</label> <input type="text" ng-model="elemento.titulo"></li>
                    <li>
                        
                        <form enctype="multipart/form-data" method="POST">
                             Choose a file to upload: <input name="file" type="file"><br>
                             
                            
                            <button class="button tiny" 
                                ng-click="uploadElementoConstruccion ($event, elemento)">
                                    Upload
                            </button>
                             
                            <a ng-if="elemento.imageId != null"
                                ng-href="{{'public/file/' + elemento.imageId}}"
                                target="_blank">
                                
                                <img alt=""
                                    ng-src="{{'public/file/' + elemento.imageId}}">
                            </a>
                        </form>
                    </li>
                    <li><label>Texto:</label> <textarea type="text" ng-model="elemento.texto"></textarea></li>
                </fieldset>
                </ul>
            </li>   
        </ul>
</div>