
<div class="large-6 columns">
    
    <fieldset>         
        <titulo-dinamico label="Nombre Vista" contenido=vista.nombre tipoInput="input"
                         ng-change="cambios = true; saveVistaNombre()" >
        </titulo-dinamico>
        <img alt="{{vista.descripcion}}" ng-src="{{vista.icon}}">
    </fieldset>
    <fieldset>
        <div ng-if="vista.objetoUnity == null || vista.objetoUnity.id == null">
            <a ng-click="crearObjetoUnity()">Crear ObjetoUnity</a>
            <h3>Objetos</h3>
            <div ng-repeat="obj in objetosUsuario"
                 ng-click="seleccionarObjeto (obj)">
                <label>{{obj.nombre}}</label>
                <label>{{obj.descripcion}}</label>
            </div>
        </div>
        
        <div ng-if="vista.objetoUnity != null && vista.objetoUnity.id != null">
            <button ng-click="cambiarObjetoUnity()">Cambiar</button>
            <legend>
                <span  class = "active" ng-if="vista.objetoUnity == null"></span>
                <span  class = "no-active" ng-if="vista.objetoUnity != null"></span>
                    Modelo
                <img class="pd" ng-if="vista.objetoUnity.updatePending" ng-src="https://cdn1.iconfinder.com/data/icons/outline-imperial-seo/128/SEO_C_100_09.12.14-3_Artboard_45-256.png">
                <span ng-if="vista.objetoUnity != null && vista.objetoUnity.id != null">version {{vista.objetoUnity.version}}</span>
            </legend>
            
            <titulo-dinamico label="Nombre Modelo" contenido=vista.objetoUnity.nombre tipoInput="input"
                              ng-change="cambios = true; saveNombreObjetoUnity()" >
            </titulo-dinamico>
            Id : {{vista.objetoUnity.id}}
            <ul class="no-bullet">
                <li class = "large-7 columns">
                    
                    <form enctype="multipart/form-data" method="POST">
                    
                        
                         Choose a file to upload: <input name="file" type="file"><br>
                        <button 
                            class="button tiny"
                            ng-click="uploadObjetoUnityUserFile ($event)">
                                Upload
                        </button>
                         
                        
                       
                        <a class="button tiny"
                            ng-if="vista.objetoUnity.userFile != null" 
                            ng-href = "{{vista.objetoUnity.userFile.href}}" 
                            target="_blank">
                                Download
                        </a>
                        
                        
                        <a ng-if="vista.objetoUnity.screenshot != null"
                            ng-href="{{'public/file/' + vista.objetoUnity.screensho.href}}"
                            target="_blank">
                
                            <img alt="screenshoot Model" 
                                ng-src="{{'public/file/' + vista.objetoUnity.screensho.href}}">
                        </a>
                        
                    </form>
                </li>
            </ul>

        </div>
        
        
    
    </fieldset>
</div>
<div class="row large-6 columns ">
    <fieldset>
        <div ng-if="vista.localTarget == null || vista.localTarget.id == null">
            <h3>Objetos</h3>
            <div ng-repeat="target in targetsUsuario"
                 ng-click="seleccionarTarget (target)">
                <label>{{target.nombre}}</label>
            </div>
        </div>
        <div ng-if="vista.localTarget != null && vista.localTarget.id != null">
            <legend>
            Target
                --<span ng-if="vista.objetoUnity != null">active {{vista.localTarget.active}}</span>
                --<span ng-if="vista.objetoUnity != null">pending {{vista.localTarget.updatePending}}</span>
                --<span ng-if="vista.objetoUnity != null">version {{vista.localTarget.version}}</span>
            </legend>
            <ul class="no-bullet">
                <li class = "large-7 columns">
                    <form enctype="multipart/form-data" method="POST">
                         Choose a file to upload: <input name="file" type="file"><br>
                         
                         <button class="button tiny" ng-click="uploadLocalTargetImageFile ($event)">Upload</button>
                         
                        <a class="tiny"
                            ng-if="vista.localTarget != null && vista.localTarget.image != null && vista.localTarget.image != ''" 
                            ng-href = "{{vista.localTarget.image.href}}" 
                            target="_blank">
                            
                            <img alt=""
                                ng-if="vista.localTarget.image != null"
                                ng-src="{{vista.localTarget.image.href}}">
                        </a>
                    </form>
                </li>
            </ul>
        </div>
    </fieldset>
</div>
<hr>
<div class="large-12 columns">
        <h2>{{vista.elementosInteractivos.length}} Elementos Interactivos</h2>
        <br>
        <a ng-click='agregarElemento ()' class="add-I"></a>
        <ul class="no-bullet">
            <li ng-repeat="elemento in vista.elementosInteractivos"> 
                <ul class="large-3 columns no-bullet">
                <fieldset>
                    
                     <a class="button right tiny" ng-click="borrarElemento (elemento)">x</a>
                    
                    <li><label>tag:</label> 
                        <select ng-model="elemento.tag" ng-change="uploadElements ()">
                            <option ng-repeat="tag in tags"
                                    ng-value="tag">{{tag}}</option>
                        </select>
                    </li>
                    <li>
                        <titulo-dinamico label="Titulo:" contenido=elemento.titulo tipoInput="input"
                                         ng-change="cambios = true; saveElementos ()" >
                        </titulo-dinamico>
                    </li>
                    <li>
                        
                        <form enctype="multipart/form-data" method="POST">
                             Choose a file to upload: <input name="file" type="file"><br>
                             
                             
                            <button class="button tiny" 
                                ng-click="uploadImagenElemento ($event, elemento)">
                                    Upload
                            </button>
                             
                            <a ng-if="elemento.image != null"
                                ng-href="{{elemento.image.href}}"
                                target="_blank">
                                
                                <img alt=""
                                    ng-src="{{elemento.image.href}}">
                            </a>
                        </form>
                    </li>
                    <li>
                        <titulo-dinamico label="Texto:" contenido=elemento.texto tipoInput="textarea"
                                         ng-change="cambios = true; saveElementos ()" >
                        </titulo-dinamico>
                    </li>
                </fieldset>
                </ul>
            </li>   
        </ul>
</div>
<hr>