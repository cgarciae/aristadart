<div class="row large-10 small-centered colums">
<a data-reveal-id="myModal" >Lista de vistas</a>

<div id="myModal" class="reveal-modal" data-reveal>
  <a class="close-reveal-modal">&#215;</a>
  <h2>Vistas</h2>
  
  <div ng-if="!cargarVistasUsuario"> 
      <button ng-click="iniciarCargaVistasUsuario()">Cargar Vistas</button>
  </div>
  <a ng-click='nuevaVista()' class="add close-reveal-modal"></a>
  <div ng-if="cargarVistasUsuario">
    <div ng-repeat="vistaUsuario in vistasUsuario">
        <fieldset ng-click="seleccionarVistaEnModal(vistaUsuario)" class="boxes">
            <legend>
                <div class="row">
                    <div class="small-8 columns">{{vistaUsuario.icon.texto}}</div>
                </div>
            </legend>
            <img alt="{{vistaUsuario.icon.urlTextura}}" ng-src="{{vistaUsuario.icon.urlTextura}}" class="gray-b">
         </fieldset>
    </div>    
  </div>
</div>
<fieldset>
    <legend>EDICIÓN EVENTO</legend>
    <h3 class="text-center">
        <h3>
            Ingresa el contenido de tu evento
        </h3>
        <br>
    </h3>
    
    <div class="large-12 small-centered columns">
        <div class="row medium-uncollapse large-collapse">
            <div class="small-6 columns">
                <h3>Imágen preview</h3>
                <br>
                <div class="large-4 columns">
                    <img alt={{evento.descripcion}} ng-src="{{evento.imagenPreview.path}}">
                </div>
                <div class="large-8 columns">
                    <form enctype="multipart/form-data" method="POST">
                         Choose a file to upload: <input name="file" type="file"><br>
                         <button class="button small radius" ng-click="upload ($event)">Upload</button>
                    </form>
                </div>
            </div>
            <div class="small-6 columns">
                <h3>!Elige tu marcador!</h3>
                <br>
                <div class="large-4 columns">
                    <img alt={{evento.descripcion}} ng-src="{{targetImageUrl}}">
                </div>
                <div class="large-8 columns">
                    <form enctype="multipart/form-data">
                         Choose a file to upload: <input name="file" type="file"><br>
                         <button class="button small radius" ng-click="uploadTarget ($event)">Upload</button>
                    </form>
                </div>
            </div>
        </div>
        <br>
        <div>          
            <div class="large-5">
                <label>Nombre:</label>
                <input type="text" ng-model="evento.nombre" ng-blur=saveNombre()>
            </div>
            <div class="small-10">
                <label>Descripcion </label>
                <textarea ng-model="evento.descripcion"
                          ng-change="cambio=true"
                          ng-blur=saveDescripcion()>
                </textarea>
            </div>
        </div>
    </div>
</fieldset>
<h2>Edita y crea tus vistas</h2>
<div class="row">
    <ul class="small-block-grid-2 medium-block-grid-3 large-block-grid-4">
        <li ng-repeat="vista in evento.vistas"
         ng-click="ver (vista)">
         <fieldset class="boxes">
            <legend>
                <div class="row">
                    <div class="small-8 columns">{{vista.icon.texto}}</div>
                    
                    <div class="small-2 columns">
                        <a class="button right" 
                            ng-click="eliminar (vista, $event)">X</a>
                    </div>
                </div>
            </legend>
            <img alt="{{vista.icon.urlTextura}}" ng-src="{{vista.icon.urlTextura}}" class="gray-b">
         </fieldset>
        </li>
    </ul>
    <a ng-click='nuevaVista()' class="add"></a>
</div>
</div>

